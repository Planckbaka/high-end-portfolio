# 文章中添加图片和媒体资源指南

## 📁 图片存放位置

所有文章相关的图片应该存放在：

```
public/images/articles/
```

这个目录已经为你创建好了。你可以在这里创建子文件夹来组织不同文章的图片：

```
public/images/articles/
├── kafka/                    # Kafka 文章的图片
│   ├── architecture.png
│   └── zero-copy.svg
├── kubernetes/               # Kubernetes 文章的图片
│   └── pods-diagram.png
└── shared/                   # 共享图片
    └── logo.png
```

## 🖼️ 在 Markdown 中使用图片

### 基本语法

在你的 `.md` 文件中使用标准的 Markdown 图片语法：

```markdown
![图片描述](/images/articles/your-image.png)
```

### 完整示例

```markdown
---
title: "The Understand of Kafka"
date: "2025-12-21"
category: "Message queue system"
excerpt: "an article about the understand of kafka"
---

kafka是一个高性能的分布式消息队列系统，这篇文章将介绍kafka的设计理念和实现原理。

## kafka实现高性能的几个关键点

### Zero Copy

kafka使用Zero Copy技术来实现高性能的消息传递。

![Kafka Zero Copy 架构图](/images/articles/kafka/zero-copy-architecture.png)

上图展示了 Kafka 如何通过 Zero Copy 技术减少数据复制次数。

### 架构对比

你也可以并排放置多张图片：

![传统架构](/images/articles/kafka/traditional.png)
![Kafka架构](/images/articles/kafka/kafka-arch.png)
```

## 📐 图片尺寸建议

为了获得最佳显示效果，建议：

- **宽度**: 800-1200px（文章内容区域宽度）
- **格式**: 
  - 照片/复杂图像：JPG/JPEG（压缩后）
  - 图标/图表/截图：PNG
  - 矢量图：SVG（推荐用于图表和图标）
- **文件大小**: 尽量控制在 200KB 以内

## 🎨 图片优化

### 1. 使用在线工具压缩

- [TinyPNG](https://tinypng.com/) - PNG/JPG 压缩
- [SVGOMG](https://jakearchibald.github.io/svgomg/) - SVG 优化

### 2. 使用命令行工具

如果你安装了 ImageMagick：

```bash
# 压缩 PNG
convert input.png -quality 85 output.png

# 调整尺寸
convert input.png -resize 1200x output.png
```

## 🔗 其他媒体类型

### 添加视频

#### YouTube 视频

```markdown
可以通过嵌入 iframe 的方式添加 YouTube 视频（需要在文章中使用 HTML）：

<iframe width="560" height="315" 
  src="https://www.youtube.com/embed/VIDEO_ID" 
  frameborder="0" 
  allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" 
  allowfullscreen>
</iframe>
```

#### 本地视频

```markdown
如果需要使用本地视频，可以放在 `public/videos/` 目录：

<video width="100%" controls>
  <source src="/videos/demo.mp4" type="video/mp4">
  您的浏览器不支持视频标签。
</video>
```

### 添加 GIF 动图

GIF 的使用方式与普通图片相同：

```markdown
![演示动画](/images/articles/demo.gif)
```

**注意**: GIF 文件通常较大，建议：
- 控制帧数和尺寸
- 或者使用视频格式代替（更小的文件大小）

## 💡 高级用法

### 图片带链接

```markdown
[![点击查看大图](/images/articles/thumbnail.png)](/images/articles/full-size.png)
```

### 图片居中对齐

Markdown 本身不支持居中，但可以使用 HTML：

```html
<div align="center">
  <img src="/images/articles/centered-image.png" alt="居中图片" />
</div>
```

### 图片带标题

```html
<figure>
  <img src="/images/articles/diagram.png" alt="架构图" />
  <figcaption>图1: Kafka 分布式架构示意图</figcaption>
</figure>
```

### 响应式图片

```html
<picture>
  <source media="(max-width: 768px)" srcset="/images/articles/mobile.png">
  <source media="(min-width: 769px)" srcset="/images/articles/desktop.png">
  <img src="/images/articles/desktop.png" alt="响应式图片">
</picture>
```

## 📝 实际示例

这是一个完整的文章示例，展示如何使用图片：

```markdown
---
title: "Kafka 深度解析"
date: "2025-12-21"
category: "Message Queue"
excerpt: "深入理解 Kafka 的核心原理"
---

# Kafka 深度解析

## 架构概览

Kafka 采用分布式架构，由多个组件协同工作：

![Kafka 整体架构](/images/articles/kafka/overview.png)

## Zero Copy 技术

传统的数据传输需要多次复制：

![传统数据传输](/images/articles/kafka/traditional-copy.svg)

而 Kafka 使用 Zero Copy 技术大幅提升性能：

![Zero Copy 技术](/images/articles/kafka/zero-copy.svg)

通过对比可以看出，Zero Copy 减少了不必要的数据复制。

## 性能测试结果

<div align="center">
  <img src="/images/articles/kafka/benchmark.png" alt="性能测试" />
  <p><em>图: Kafka vs 其他消息队列性能对比</em></p>
</div>

## 总结

Kafka 通过创新的设计实现了高性能...
```

## ✅ 最佳实践

1. **使用描述性的文件名**: `kafka-architecture.png` 而不是 `image1.png`
2. **始终添加 alt 文本**: 有助于 SEO 和无障碍访问
3. **组织好目录结构**: 为每篇文章或主题创建子文件夹
4. **优化图片大小**: 在上传前压缩图片
5. **使用合适的格式**: 
   - 图表/图标 → SVG
   - 照片 → JPG
   - 需要透明背景 → PNG
6. **版权注意**: 确保你有权使用这些图片

## 🚀 快速开始

1. 将图片放入 `public/images/articles/` 目录
2. 在 Markdown 文件中引用：`![描述](/images/articles/your-image.png)`
3. 运行 `npm run generate:articles` 重新生成文章数据
4. 刷新浏览器查看效果

## 🔍 故障排查

### 图片不显示？

1. 检查路径是否正确（必须以 `/` 开头）
2. 确认图片文件确实存在于 `public/` 目录中
3. 检查文件名大小写是否匹配
4. 重新运行 `npm run generate:articles`

### 图片太大？

1. 使用在线工具压缩
2. 调整图片尺寸到合适的大小
3. 考虑使用 WebP 格式（更好的压缩率）

---

现在你可以在文章中自由添加图片了！🎉
